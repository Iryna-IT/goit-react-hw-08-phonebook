(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{100:function(t,e,n){"use strict";n.r(e);var a=n(16),c=n(17),r=n(19),o=n(18),s=n(0),i=n(9),u=n(3),l=n(8),b=n(21),h=n.n(b),p=n(28),d=n(23),f=n.n(d),m={fetchContacts:function(){return function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(l.h)()),t.prev=1,t.next=4,f.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(l.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(l.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t){return function(){var e=Object(p.a)(h.a.mark((function e(n){var a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.name,number:t.number},n(Object(l.b)()),e.prev=2,e.next=5,f.a.post("/contacts",a);case 5:c=e.sent,r=c.data,n(Object(l.c)(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n(Object(l.a)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(p.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.e)()),e.prev=1,e.next=4,f.a.delete("/contacts/".concat(t));case 4:n(Object(l.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(l.d)(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},_=n(31),j=function(t){return t.contacts.contacts},O={getLoading:function(t){return t.loading},getExistContacts:j,getContactsListToShow:Object(_.a)([j,function(t){return t.contacts.filter}],(function(t,e){return""===e?t:t.filter((function(t){return t.name.toUpperCase().includes(e.toUpperCase())}))}))},C=(n(30),function(t,e){return console.log(t),!t.find((function(t){return t.name.toUpperCase()===e.toUpperCase()}))}),v=n(94),x=n.n(v),g=n(1),y=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(u.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props,o=r.onAdd,s=r.existContacts;if(!C(s,t.state.name))return alert("".concat(t.state.name," is already in contacts!"));o({name:a,number:c}),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("form",{className:x.a.form_contact,onSubmit:this.handleSubmit,children:[Object(g.jsx)("div",{className:x.a.container_contact,children:Object(g.jsxs)("label",{htmlFor:"name",className:x.a.label_contact,children:[Object(g.jsx)("span",{className:x.a.headline_contact,children:"Name"}),Object(g.jsx)("input",{type:"text",className:x.a.input_contact,name:"name",value:this.state.name,placeholder:"Enter name",onChange:this.handleChange,required:!0})]})}),Object(g.jsx)("div",{className:x.a.container_contact,children:Object(g.jsxs)("label",{htmlFor:"phone",className:x.a.label_contact,children:[Object(g.jsx)("span",{className:x.a.headline_contact,children:"Phone"}),Object(g.jsx)("input",{type:"tel",className:x.a.input_contact,name:"number",value:this.state.number,placeholder:"Enter phone XXX-XX-XX",pattern:"^(\\d{3})-\\d{2}-\\d{2}$",onChange:this.handleChange,required:!0})]})}),Object(g.jsx)("button",{type:"submit",className:x.a.btn_add,onSubmit:this.handleSubmit,children:"Add contact"})]})}}]),n}(s.Component);y.defaultProps={existContacts:[]};var w=Object(i.b)((function(t){return{existContacts:O.getExistContacts(t)}}),(function(t){return{onAdd:function(e){return t(m.addContact(e))}}}))(y),N=n(40),k=function(t){return function(e){e(N.a.filterContacts(t))}},F=(n(41),n(95)),S=n.n(F),D=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props.onSearch;return Object(g.jsxs)("form",{className:S.a.form_search,children:[Object(g.jsx)("label",{htmlFor:"filter",className:S.a.label_search,children:"Find contacts by name"}),Object(g.jsx)("input",{type:"text",name:"filter",className:S.a.input_search,placeholder:"Enter the name",onChange:t})]})}}]),n}(s.Component),L=Object(i.b)(null,(function(t){return{onSearch:function(e){return t(k(e.currentTarget.value))}}}))(D),X=n(96),T=n.n(X),V=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props.existContacts,e=this.props.onDelete;return 0===t.length?Object(g.jsx)("div",{children:"There are no contacts"}):Object(g.jsx)("ul",{className:T.a.contact_list,children:t.map((function(t){return Object(g.jsx)(A,{id:t.id,name:t.name,number:t.number,onDelete:e},t.id)}))})}}]),n}(s.Component);V.defaultProps={existContacts:[]};var A=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleDelete=function(e){(0,t.props.onDelete)(e.target.parentNode.id)},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.name,a=t.number;return Object(g.jsxs)("li",{className:T.a.contact_item,id:e,children:[" ",n," : ",a,Object(g.jsx)("button",{type:"button",className:T.a.btn_delete,onClick:this.handleDelete,children:"Delete"})]})}}]),n}(s.Component);A.defaultProps={id:"",name:"",number:""};var E=Object(i.b)((function(t){return{existContacts:O.getContactsListToShow(t)}}),(function(t){return{fetchContacts:function(){return t(m.fetchContacts())},onDelete:function(e){return t(m.deleteContact(e))}}}))(V),U=n(93),J=n.n(U),P=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:J.a.container,children:[Object(g.jsx)("h1",{children:"Phonebook"}),Object(g.jsx)(w,{}),Object(g.jsx)("h2",{children:"Contacts"}),Object(g.jsx)(L,{}),this.props.isLoadingContacts&&Object(g.jsx)("h1",{children:"Loading..."}),Object(g.jsx)(E,{})]})}}]),n}(s.Component),Z={fetchContacts:m.fetchContacts};e.default=Object(i.b)((function(t){return{isLoadingContacts:O.getLoading(t)}}),Z)(P)},93:function(t,e,n){t.exports={container:"Views_container__3gTXq",form:"Views_form__DZFNQ",label:"Views_label__1rD_o",headline:"Views_headline__-coJr",input:"Views_input__3Zu7C",btn:"Views_btn__F6V0f"}},94:function(t,e,n){t.exports={container_contact:"ContactForm_container_contact__3nv-J",label_contact:"ContactForm_label_contact__1ZEfp",headline_contact:"ContactForm_headline_contact__8Jz9d",input_contact:"ContactForm_input_contact__2OUbZ",form_contact:"ContactForm_form_contact__obbHr",btn_add:"ContactForm_btn_add__1gNnX"}},95:function(t,e,n){t.exports={form_search:"Filter_form_search__QjewA",label_search:"Filter_label_search__3U0e-",input_search:"Filter_input_search__2dXSI"}},96:function(t,e,n){t.exports={contact_list:"ContactList_contact_list__39SO2",contact_item:"ContactList_contact_item__o_QdC",btn_delete:"ContactList_btn_delete__IT8fO"}}}]);
//# sourceMappingURL=3.4eeb6db3.chunk.js.map